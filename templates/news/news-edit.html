{% load static %}

<form id="edit-news-form" class="ov-form" method="post" enctype="multipart/form-data">
    <h3 class="ov-form__title">Uređivanje vijesti</h3>
    <button type="button" id="close-button" class="close-button-event" onclick="modalClose()"><i
            class="fa-solid fa-rectangle-xmark"></i>
    </button>
    {% csrf_token %}
    {% for error in form.non_field_errors %}
        <div>
            {{ error }}
        </div>
    {% endfor %}
    <div>
        <label>{{ form.headline.label }}</label>

        {{ form.headline }}
    </div>
    {% if form.headline.errors %}
        <div>
            {{ form.headline.errors }}
        </div>
    {% endif %}
    <div>
        <label>{{ form.content.label }}</label>

        {{ form.content }}
    </div>
    {% if form.content.errors %}
        <div>
            {{ form.content.errors }}
        </div>
    {% endif %}
    <div>
        <label>{{ form.image.label }}</label>
        {% if object.image %}
            <div class="image-container" onmouseover="showButtonsNewsImage(true, 'id_image', 'remove-image-button')"
                 onmouseleave="showButtonsNewsImage(false, 'id_image', 'remove-image-button')">
            <img id="photo-preview" class="dv-photo-preview" src={{ object.image.url }}>
        {% else %}
            <div class="image-container" onmouseover="showButtonsNewsImage(true, 'id_image')"
                 onmouseleave="showButtonsNewsImage(false, 'id_image')">
            <img id="photo-preview" class="dv-photo-preview" src='{% static 'img/news.png' %}'>
        {% endif %}
        {{ form.image }}
        <button type="button" id="remove-image-button" class="ov-form__btn ov-form__btn--red"
                onclick="newsDeletePicture(DELETE_NEWS_PICTURE_URL, {{ object.id }})">
            <i class="fa-solid fa-trash-can"></i>
        </button>
        </div>
        </div>

        <div class="ov-form__btn-container">
            <button type="button" id="close-button" class="ov-form__btn ov-form__btn--red"
                    onclick="displayModal(DELETE_NEWS_URL + {{ object.id }})">Izbriši
            </button>
            <button type="button" id="submitForm" class="ov-form__btn"
                    onclick="submitFormMultimediaData(EDIT_NEWS_URL + {{ object.id }} + '/', '#edit-news-form')">
                Sačuvaj
            </button>
            <button type="button" id="close-button" class="ov-form__btn ov-form__btn--blue" onclick="modalClose()">
                Odustani
            </button>
        </div>
</form>